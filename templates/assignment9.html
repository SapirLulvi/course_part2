{% extends 'basic.html' %}
{% block title %}assignment9{% endblock%}
{% block page_head_css %}<link rel="stylesheet" href="{{ url_for('static', filename='css/assignment9.css') }}">{% endblock %}
{% block page_head_js %}<script src="{{ url_for('static', filename='js/cv.js') }}"></script> {% endblock %}
{% block details %}
    <div id="GridContainer">
        <div id="form1">
            <form action="/assignment9" method="POST">
                {% if session.nickN %}
                    <h1>Hello, {{ session.nickN }}</h1>
                    <button id="Button1" name="Button1">log out</button>
                {% else %}
                    <h1>Registration Form</h1>
                    <label for="nickName">Nick Name:</label><br>
                    <input type="text" id="nickName" name ="nickName" required><br><br>
                    <label for="name">Name:</label><br>
                    <input type="text" id="name" name ="name" required><br><br>
                    <label for="Email">Email:</label><br>
                    <input type="email" id="Email" name ="Email" required><br><br>
                    <p id="note1"></p>
                    <button id="Button2"  onclick="checkValid1('Email','note1')">Send</button>
                {% endif %}
            </form>
        </div>

        <div id="form2">
            <h1>Search Form</h1>
            <form action="/assignment9" method="GET">
                <label for="user">User Name:</label><br>
                <input type="text" id="user" name ="user"><br><br>
                <button id="Button3" name="Button3">Search</button>
            </form>
        </div>
        {% if listR1 %}
            <h1>User details</h1>
            <ul>
                {% for k, v in listR1.items() %}
                    <li>{{ k|e }} : {{ v|e }}</li>
                {%  endfor%}
            </ul>
        {% endif %}
        {% if listR2 %}
            <h1>Users list</h1>
            {% for k in listR2 %}
               <ul>
                    {% for key, value in listR2[k].items() %}
                        <li>
                            {{ key|e }} : {{ value|e }}
                        </li>
                    {% endfor %}
                </ul>
            {% endfor %}
        {% endif %}

        {% if strError %}
            <p>{{ strError }}</p>
        {% endif %}
    </div>

{% endblock %}